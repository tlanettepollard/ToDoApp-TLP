@import 'variables';

/* Theme Settings */
$themes: (
    'light': (
        'header-text': $LT-white,
        'main-bg': $LT-very-light-grayish-blue,
        'page-text': $LT-dark-grayish-blue,
        'todolist-bg': $LT-very-light-gray,
        'todolist-text': $LT-very-dark-grayish-blue,
        'task-done-text': $LT-light-grayish-blue,
        'border-color': $LT-very-light-grayish-blue,
        'input-bg': LT-very-light-gray,
        'input-text': $LT-light-grayish-blue, 
        'filter-text': $LT-dark-grayish-blue,
        'filter-active': $filter-text-active-color,
        'hover': $LT-hover,
        'attribution-text': $LT-dark-grayish-blue,
        'bg-img-mobile': $LT-wrapper-bg-image-mobile,
        'bg-img-desktop': $LT-wrapper-bg-image-desktop,
    ), 
    'dark': (
        'header-text': $DT-white,
        'main-bg': $DT-very-dark-blue,
        'page-text': $DT-dark-grayish-blue,
        'todolist-bg': $DT-very-dark-desaturated-blue,
        'todolist-text': $DT-light-grayish-blue,
        'task-done-text': $DT-grayish-blue,
        'border-color': $DT-very-dark-grayish-blue,
        'input-bg': $DT-very-dark-desaturated-blue,
        'input-text': $DT-dark-grayish-blue,
        'filter-text': $DT-dark-grayish-blue-2,
        'filter-active': $filter-text-active-color,
        'hover': $DT-hover,
        'attribution-text': $DT-white,
        'bg-img-mobile': $DT-wrapper-bg-img-mobile,
        'bg-img-desktop': $DT-wrapper-bg-img-desktop,  
    ), 
);

@mixin themed() {
    @each $theme, $map in $themes {
        .theme--#{$theme} & {
            $theme-map: () !global;
            @each $key, $submap in $map {
                $value: map-get(map-get($themes, $theme), '#{$key}');
                $theme-map: map-merge($theme-map, ($key: $value)) !global;
            }
            @content;
            $theme-map: null !global;
        }
    }
}

@function t($key) {
    @return map-get($theme-map, $key);
}

